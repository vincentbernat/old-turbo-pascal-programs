procedure cave;
begin
if not(cave_ecl) then obs else
                 begin
                 endroit:='CAVE';
                 Cleardevice;
                 setBKcolor(3);
                 Setcolor(3);
                 RECTANGLE(15,16,304,177);
                 ELLIPSE(146,146,0,360,17,16);
                 ELLIPSE(147,152,0,360,2,1);
                 LINE(145,151,145,148);
                 LINE(149,151,149,148);
                 LINE(145,148,143,146);
                 LINE(149,148,146,145);
                 LINE(144,146,144,144);
                 LINE(144,144,146,144);
                 LINE(146,144,147,145);
                 LINE(145,144,145,141);
                 LINE(145,141,144,141);
                 LINE(144,141,144,143);
                 LINE(146,144,146,141);
                 LINE(143,141,141,141);
                 LINE(146,141,149,141);
                 ELLIPSE(146,146,0,360,21,20);
                 ELLIPSE(146,146,0,360,20,20);
                 LINE(126,142,139,109);
                 LINE(166,142,156,109);
                 ELLIPSE(147,109,0,180,8,3);
                 ELLIPSE(146,155,0,360,0,1);
                 ELLIPSE(147,159,0,360,0,1);
                 putpixel(147,159,2);
                 putpixel(146,155,2);
                 LINE(131,159,122,171);
                 LINE(122,171,166,171);
                 LINE(166,171,161,161);
                 LINE(132,161,126,169);
                 LINE(126,169,161,169);
                 LINE(161,169,159,162);
                 Setfillstyle(1,2);
                 floodfill(146,133,3);
                 setfillstyle(3,2);
                 floodfill(146,115,3);
                 {}
                 LINE(182,172,213,172);
                 LINE(213,172,213,149);
                 LINE(213,149,182,149);
                 LINE(182,149,182,172);
                 {caisse+ les 4 derniers}
                 LINE(182,149,194,136);
                 LINE(213,148,223,138);
                 LINE(223,138,213,148);
                 LINE(223,138,192,138);
                 LINE(223,138,192,138);
                 LINE(223,139,223,160);
                 LINE(223,161,214,172);
                 setfillstyle(9,3);
                 floodfill(183,170,3);
                 floodfiLL(188,145,3);
                 floodfill(215,150,3);
                 LINE(204,139,197,148);
                 LINE(197,148,198,171);
                 LINE(188,143,217,143);
                 LINE(218,143,218,166);
                 RECTANGLE(122,25,213,73);
                 LINE(213,73,312,180);
                 LINE(122,73,11,172);
                 LINE(122,25,15,8);
                 LINE(213,25,303,10);
                 LINE(154,73,161,64);
                 LINE(181,73,176,64);
                 {porte}
                 {RECTANGLE(155,39,182,65);
                 LINE(157,48,163,47);
                 LINE(167,48,173,49);
                 LINE(160,56,164,55);
                 LINE(166,54,175,55);}
                 setcolor(0);
                 LINE(180,72,177,66);
                 LINE(155,72,159,66);
                 setcolor(3);
                 RECTANGLE(155,73,183,39);
                 LINE(159,55,163,55);
                 LINE(234,36,270,32);
                 LINE(270,32,232,37);
                 LINE(232,38,232,70);
                 LINE(232,70,260,89);
                 LINE(260,89,269,32);
                 {va et vient 1}
                 LINE(240,41,240,45);
                 LINE(240,45,237,45);
                 LINE(237,45,237,49);
                 LINE(240,45,244,45);
                 LINE(244,45,244,49);
                 {2}
                 LINE(253,50,253,45);
                 LINE(253,45,263,45);
                 LINE(263,45,263,50);
                 LINE(258,45,258,41);
                 LINE(254,45,262,45);
                 {3}
                 LINE(238,67,238,62);
                 LINE(238,62,245,62);
                 LINE(245,62,245,67);
                 LINE(241,62,241,57);
                 {4}
                 LINE(253,69,252,64);
                 LINE(252,64,257,63);
                 LINE(257,63,259,68);
                 LINE(254,63,253,59);
                 {collier}
                 if not(collier) then
                                 begin
                                 ELLIPSE(234,111,0,360,1,1);
                                 ELLIPSE(237,114,0,360,1,0);
                                 ELLIPSE(239,117,0,360,0,0);
                                 ELLIPSE(238,120,0,360,0,0);
                                 ELLIPSE(234,121,0,360,0,0);
                                 ELLIPSE(231,120,0,360,0,0);
                                 ELLIPSE(230,117,0,360,0,0);
                                 ELLIPSE(230,114,0,360,0,0);
                                 ELLIPSE(231,111,0,360,0,0);
                                 putpixel(234,111,2);
                                 putpixel(237,114,2);
                                 putpixel(239,117,2);
                                 putpixel(238,120,2);
                                 putpixel(234,121,2);
                                 putpixel(231,120,2);
                                 putpixel(230,117,2);
                                 putpixel(230,114,2);
                                 putpixel(231,111,2);
                                 end;
                                 {trappe}
                                 LINE(209,85,221,103);
                                 LINE(192,86,184,102);
                                 LINE(184,102,221,102);
                                 LINE(193,85,209,85);
                                 LINE(193,86,193,86);
                                 setfillpattern(tapis,1);
                                 floodfill(17,100,3);
                                 floodfill(303,100,3);
                                 floodfill(150,50,3);
                                 end;
  end;
